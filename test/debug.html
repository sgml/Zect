<!DOCTYPE html>
<html>

<head>
    <title></title>
</head>
<style>
    .selected {color: red}
</style>
<body>
    <div id="app"></div>
    <script type="text/html" id="tpl">
        <div class="tpl" z-dataset="{tpl: true}">
            <z-repeat items="{pagingList(packages)}">
                <z-repeat items="{$value}">
                    <p>
                        <a z-class="{selected: selected}" z-on="{click: select}" data-name="{name}">{name}</a>
                    </p>
                </z-repeat>
            </z-repeat>
            <button z-on="{click: select}">selectAll</button>
        </div>
    </script>
    <script type="text/javascript" src="../dist/zect.js"></script>
    <script type="text/javascript">
    var app = new Zect({
        el: '#app',
        template: document.querySelector('#tpl').innerHTML,
        data: function () {
            return {
                PAGE_COUNT: 9,
                packages: [{name: 'abc1'},{name: 'abc2'},{name: 'abc3'},{name: 'abc4'},{name: 'abc5'}].map(function (item) {
                    item.selected = false
                    return item
                })
            }
        },
        methods: {
            pagingList: function (packages) {
                var pkgs = packages.slice(0)
                var result = []
                while(pkgs.length) {
                    result.push(pkgs.splice(0, this.$data.PAGE_COUNT))
                }
                return result
            },

            select: function (e) {
                var tar = e.currentTarget
                var name = tar.dataset.name
                this.$data.packages.some(function (item, index) {
                    if (name == item.name) {
                        item.selected = true  
                        return
                    }
                })
            }
        }
    })
    </script>
</body>

</html>
