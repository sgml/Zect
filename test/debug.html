<!DOCTYPE html>
<html>
<head>
    <title></title>
    <style type="text/css">
        .selected {color: red}
    </style>
</head>
<body>
<div id="app">
    <!-- <z-repeat items="{items}">
        <ul>
        <z-repeat items="{$value}">
                <z-if is="{true}">
                <li>
                    <a href="javascript:;" 
                        z-class="{selected: selected}" 
                        z-on="{click: onSelected.bind(null, $parent.$index, id)}"
                    >{id}:{title}</a>
                </li>
                </z-if>
        </z-repeat>
        </ul>
    </z-repeat> -->
    <z-repeat items="{to2d(items)}">
        <ul>
            <z-repeat items="{$value}">
                <li>{$value}</li>
            </z-repeat>
        </ul>
    </z-repeat>
</div>
<script type="text/html" class="tpl">
</script>
<script type="text/javascript" src="../dist/zect.js"></script>
<script type="text/javascript">
    var app = new Zect({
            el: '#app',
            data: function () {
                return {
                    // items: [[{
                    //     id: 0,
                    //     title: 'Hello',
                    //     selected: false
                    // }, {
                    //     id: 1,
                    //     title: 'Hello',
                    //     selected: false
                    // }, {
                    //     id: 2,
                    //     title: 'Hello',
                    //     selected: false
                    // }]],
                    items: [1,2,3,4]
                }
            },
            ready: function () {
                this.$data.items = [4,5,3,6]
            },
            methods: {
                onSelected: function (index, id) {
                    this.$data.$set('items[0]', [{
                        id: 1,
                        title: 'Hello',
                        selected: false
                    }, {
                        id: 2,
                        title: 'Hello',
                        selected: false
                    }])
                    // this.$data.items[0].splice(0, 0, {
                    //     id: 2,
                    //     title: 'Hello',
                    //     selected: false
                    // })
                    // this.$data.items[0][1].id = 4
                    // this.$data.items[index].some(function (item) {
                    //     console.log(item.id, id)
                    //     if (id === item.id) {
                    //         item.selected = !item.selected
                    //         return true
                    //     }
                    // })
                }
            }
        })
</script>

</body>
</html>