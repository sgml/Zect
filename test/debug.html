<!DOCTYPE html>
<html>
<head>
    <title></title>
    <style type="text/css">
        .selected {color: red}
    </style>
</head>
<body>
<div id="app">
    <!-- <z-repeat items="{items}">
        <ul>
        <z-repeat items="{$value}">
                <z-if is="{true}">
                <li>
                    <a href="javascript:;" 
                        z-class="{selected: selected}" 
                        z-on="{click: onSelected.bind(null, $parent.$index, id)}"
                    >{id}:{title}</a>
                </li>
                </z-if>
        </z-repeat>
        </ul>
    </z-repeat> -->
    <z-repeat items="{ to2d(items) }">
        <ul>
            <z-repeat items="{$value}">
                <li>{$value.data}</li>
            </z-repeat>
        </ul>
    </z-repeat>
</div>
<script type="text/html" class="tpl">
</script>
<script type="text/javascript" src="../dist/zect.js"></script>
<script type="text/javascript">
    function create(count, factor) {
        var items = []
        while(count --) {
            items.push(factor(count))
        }
        return items
    }
    console.time('init')
    var app = new Zect({
        el: '#app',
        data: function () {
            return {
                items: create(10*10, function (i) {
                    return {
                        data: i
                    }
                })
            }
        },
        methods: {
            to2d: function (list) {
                var next = []
                list = list.slice(0)
                while(list.length) {
                    next.push(list.splice(0, 10))
                }
                return next
            }
        }
    })
    console.timeEnd('init')
    console.time('update')
    app.$data.items = create(10*10, function (i) {
        return {
            data: i + 2000
        }
    })
    console.timeEnd('update')

</script>
</body>
</html>